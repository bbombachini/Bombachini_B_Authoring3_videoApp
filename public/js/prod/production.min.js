"use strict";!function(){document.querySelector(".options")&&document.querySelector(".movies").addEventListener("click",function(){fetch("/movies").then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},!1);document.querySelector("#movies")&&(document.querySelectorAll(".movie-cover").forEach(function(o){o.addEventListener("click",e,!1)}),function(){fetch("movies/genre").then(function(e){return e.json()}).then(function(e){var n=document.querySelector(".select");e.genre.forEach(function(e){var o='<option value="'+e.genre_id+'">'+e.genre_name+"</option>";n.innerHTML+=o}),n.addEventListener("change",o,!1)}).catch(function(e){console.log(e)})}.call());function e(e){var o=e.currentTarget.id;fetch("movies/"+o).then(function(e){return e.json()}).then(function(e){!function(e){var o=e.movie[0],n=document.body,i=document.querySelector(".lightbox"),t='<div id="light-wrapper">\n      <div class="light">\n        <div><img src="images/'+o.movies_cover+'"></div>\n        <div class="movie-info">\n          <h2>'+o.movies_title+"</h2>\n          <h4>"+o.movies_year+"</h4>\n          <p>"+o.movies_storyline+'</p>\n        </div>\n        <i class="ion-ios-close-outline"></i>\n      </div>\n      <figure class="video"><video controls src="videos/'+o.movies_trailer+'"></video></figure>\n    </div>';i.style.display="block",n.classList.add("no-scroll"),i.innerHTML=t,document.querySelector(".ion-ios-close-outline").addEventListener("click",function(){i.style.display="none",n.classList.remove("no-scroll")},!1)}(e)}).catch(function(e){console.log(e)})}function o(o){var n=document.querySelector(".select").value,i="movies/genre/"+n;console.log(n),fetch(i).then(function(e){return e.json()}).then(function(o){console.log(o);for(var n=document.querySelector("#movies");n.firstChild;)n.removeChild(n.firstChild);o.movie.forEach(function(e){var o='<div id="'+e.movies_id+'" class="movie-cover">\n                   <h4>'+e.movies_title+'</h4>\n                   <img src="images/'+e.movies_cover+'" alt="'+e.movies_title+'">\n                 </div>';n.innerHTML+=o}),document.querySelectorAll(".movie-cover").forEach(function(o){o.addEventListener("click",e,!1)})}).catch(function(e){console.log(e)})}}();