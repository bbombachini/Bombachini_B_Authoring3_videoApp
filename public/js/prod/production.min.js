"use strict";!function(){document.querySelector(".options")&&document.querySelector(".movies").addEventListener("click",function(){fetch("/movies").then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},!1);document.querySelector("#movies")&&(document.querySelectorAll(".cover").forEach(function(e){e.addEventListener("click",n,!1)}),function(){fetch("movies/genre").then(function(e){return e.json()}).then(function(e){var n=document.querySelector(".select");e.genre.forEach(function(e){var i='<option value="'+e.genre_id+'">'+e.genre_name+"</option>";n.innerHTML+=i}),n.addEventListener("change",i,!1)}).catch(function(e){console.log(e)})}.call());document.querySelector("#music")&&document.querySelectorAll(".cover").forEach(function(n){n.addEventListener("click",e,!1)});function e(e){var n=e.currentTarget.id;fetch("music/"+n).then(function(e){return e.json()}).then(function(e){!function(e){var n=e.albums,i=document.body,o=document.querySelector(".lightbox");for(;o.firstChild;)o.removeChild(o.firstChild);var c='<div id="box-wrapper">\n      <div class="box">\n        <div><img src="images/'+n[0].artist_photo+'"></div>\n        <h2>'+n[0].artist_name+'</h2>\n        <i class="ion-ios-close-outline"></i>\n      </div>\n      <div class="tracklist">\n        <div class="album-info">\n            <img src="images/'+n[0].albums_cover+'">\n            <div><h2>'+n[0].albums_name+"</h2>\n            <h4>"+n[0].albums_year+"</h4></div>\n        </div>\n      </div>\n    </div>";o.innerHTML+=c;var t=document.querySelector(".tracklist");n.forEach(function(e){var n='<div class="track"><p><span>'+e.musics_position+". </span>"+e.musics_name+'</p><div>\n      <div><audio controls><source src="musics/'+e.musics_file+'" type="audio/mpeg"></audio></div>';t.innerHTML+=n}),o.style.display="block",i.classList.add("no-scroll"),document.querySelector(".ion-ios-close-outline").addEventListener("click",function(){o.style.display="none",i.classList.remove("no-scroll")},!1)}(e)}).catch(function(e){console.log(e)})}function n(e){var n=e.currentTarget.id;fetch("movies/"+n).then(function(e){return e.json()}).then(function(e){!function(e){var n=e.movie[0],i=document.body,o=document.querySelector(".lightbox"),c='<div id="light-wrapper">\n      <div class="light">\n        <div><img src="images/'+n.movies_cover+'"></div>\n        <div class="movie-info">\n          <h2>'+n.movies_title+"<span>("+n.movies_year+')</span></h2><h4><i class="ion-android-star"></i>'+n.movies_rating+"</4>\n          <span>"+n.genre_name+"</span>\n          <p>"+n.movies_storyline+'</p>\n          <div class="social-media"><i class="ion-social-facebook"></i><i class="ion-social-instagram"></i><i class="ion-social-twitter"></i></div>\n        </div>\n        <i class="ion-ios-close-outline"></i>\n      </div>\n      <figure class="video"><video controls src="videos/'+n.movies_trailer+'"></video></figure>\n    </div>';o.style.display="block",i.classList.add("no-scroll"),o.innerHTML=c,document.querySelector(".ion-ios-close-outline").addEventListener("click",function(){o.style.display="none",i.classList.remove("no-scroll")},!1)}(e)}).catch(function(e){console.log(e)})}function i(e){var i=document.querySelector(".select").value;fetch("movies/genre/"+i).then(function(e){return e.json()}).then(function(e){console.log(e);for(var i=document.querySelector("#movies");i.firstChild;)i.removeChild(i.firstChild);e.movie.forEach(function(e){var n='<div id="'+e.movies_id+'" class="movie-cover">\n                   <h4>'+e.movies_title+'</h4>\n                   <img src="images/'+e.movies_cover+'" alt="'+e.movies_title+'">\n                 </div>';i.innerHTML+=n}),document.querySelectorAll(".movie-cover").forEach(function(e){e.addEventListener("click",n,!1)})}).catch(function(e){console.log(e)})}}();